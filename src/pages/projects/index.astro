---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import ProjectCard from '../../components/ProjectCard.astro';

const allProjects = (await getCollection('projects'))
  .sort((a, b) => (a.data.order || 0) - (b.data.order || 0));

// Get unique categories
const categories = [...new Set(allProjects.map(project => project.data.category))];
---

<BaseLayout 
  title="Projects | Aditya Kumar"
  description="Explore my portfolio of software engineering projects spanning machine learning, cloud computing, blockchain, and web development"
>
  <div class="min-h-screen bg-gradient-to-br from-gray-50 to-white">
    <!-- Hero Section -->
    <section class="pt-32 pb-16 bg-gradient-to-br from-primary-50 via-white to-accent-50">
      <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto text-center">
          <h1 class="font-heading text-5xl md:text-6xl font-bold text-gray-900 mb-6">
            My Projects
          </h1>
          <p class="text-xl text-gray-600 mb-8">
            A collection of {allProjects.length} projects showcasing my work in artificial intelligence, cloud computing, 
            blockchain, web development, and system programming
          </p>
        </div>
      </div>
    </section>

    <!-- Projects Grid -->
    <section class="py-16">
      <div class="container mx-auto px-6">
        <!-- Category Filter Info -->
        <div class="mb-12">
          <h2 class="font-heading text-2xl font-bold text-gray-900 mb-4">All Projects</h2>
          <div class="flex flex-wrap gap-3">
            {categories.map(category => (
              <span class="px-4 py-2 bg-white border-2 border-primary-200 text-primary-700 font-medium rounded-full hover:bg-primary-50 transition-colors">
                {category}
              </span>
            ))}
          </div>
        </div>

        <!-- Projects Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {allProjects.map(project => (
            <ProjectCard
              title={project.data.title}
              category={project.data.category}
              description={project.data.description}
              thumbnail={project.data.thumbnail}
              tags={project.data.tags}
              githubUrl={project.data.githubUrl}
              externalUrl={project.data.externalUrl}
              slug={project.id}
            />
          ))}
        </div>
      </div>
    </section>

    <!-- GitHub CTA -->
    <section class="py-20 bg-gradient-to-r from-gray-900 to-gray-800">
      <div class="container mx-auto px-6 text-center">
        <h2 class="font-heading text-3xl md:text-4xl font-bold text-white mb-6">
          Want to see more?
        </h2>
        <p class="text-xl text-gray-300 mb-8 max-w-2xl mx-auto">
          Check out my GitHub profile for more projects, contributions, and open-source work
        </p>
        <a 
          href="https://github.com/aditya30394" 
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-900 font-semibold rounded-lg hover:bg-gray-100 transition-colors shadow-xl"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
          </svg>
          Visit My GitHub Profile
        </a>
      </div>
    </section>
  </div>
</BaseLayout>
